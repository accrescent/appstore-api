// Copyright 2024 Logan Magee
//
// SPDX-License-Identifier: MPL-2.0

syntax = "proto3";

package accrescent.directory.v1;

import "accrescent/directory/v1/app_download_info.proto";
import "accrescent/directory/v1/compatibility.proto";

option java_multiple_files = true;
option java_package = "app.accrescent.directory.v1";

// Response to requesting an app's download info
message GetAppDownloadInfoResponse {
  // Compatibility information between the app and the device attributes
  // specified in the request.
  Compatibility compatibility = 1;

  // The app's download info. This field will be populated if and only if all of
  // the following statements apply:
  //
  // 1. The app is compatible with the device specified in the request (as can
  //    be determined by this message's "compatibility" field).
  // 2. If base_version_code was specified in the request, it is lower than the
  //    latest version code of the app.
  //
  // In other words, it will only be populated if there are APKs available for
  // download which are newer than those specified in the request.
  AppDownloadInfo app_download_info = 2;
}
